.flex
  .max-width-2.width-100.relative(style='overflow: hidden')
    
    md-toolbar(md-colors='{background: "blue-700"}')
      //- .md-toolbar-tools

      md-list.p0
        md-list-item(ng-click='vm.add()')
          p Create new update
        md-divider
        md-list-item(ng-click='vm.toggleServiceMode()')
          //- .md-list-item-text.width-100.center
          p Service Mode
          md-switch.md-secondary(ng-model='tmp')

    md-content.height-100
      section
        //- md-subheader subheader
        md-list.p0
          md-list-item(md-colors='{background: "blue-grey-100"}')
          div(ng-repeat='update in vm.updates | orderBy:"date":true')
            md-divider
            md-list-item.md-3-line(ng-click='vm.select(update)')
              md-icon(ng-if='update.link') music_video
              .md-list-item-text.py2
                h3.md-subhead {{ update.date | date: 'MMM dd, yyyy @ HH:mm' }}
                p.muted {{ update.weather.daily.data[0].summary }}
                p(ng-bind-html='update.content')

  .flex-auto.max-width-2.width-100
    md-content.height-100(ng-if='vm.update')
      form.mt3(name='vm.updateForm', novalidate='')
        md-input-container.md-block.mx3(md-no-float='')
          label Publish Date
          md-datepicker(
          name='date',
          ng-model='vm.update.date', 
          aria-label='Publish Date'
          md-placeholder='Publish Date')
        md-input-container.md-block.mx3(md-no-float='')
          label Content
          textarea(name='conent'
          placeholder='Content'
          ng-model='vm.update.content', 
          rows='6', 
          md-select-on-focus='')
        md-input-container.md-block.mx3(md-no-float='')
          label Weather Summary
          input(name='weatherSummary', 
          placeholder='Weather Summary'
          ng-model='vm.update.weather.daily.data[0].summary')
        md-toolbar.md-accent
          .md-toolbar-tools
            md-button.md-raised(
            ng-click='vm.create(vm.update)', 
            ng-if='!vm.update._id') 
              | Create
            md-button.md-raised(
            ng-click='vm.save(vm.update)', 
            ng-if='vm.update._id') 
              | Save
            .flex-auto
            md-button.md-raised.md-icon-button.muted(
            ng-click='vm.remove(vm.update)', 
            ng-if='vm.update._id') 
              md-icon delete

//- md-button.md-warn.md-fab.absolute.bottom-0.right-0.m2(ng-click='vm.add()')
//-   md-icon add
