form(name='vm.quoteForm' novalidate='')
  md-tabs.md-accent(
  md-selected='vm.quote.step', 
  md-dynamic-height='', 
  md-border-bottom='')
    md-tab(md-active='bold')
      md-tab-label 
        .black 1. clearing
      md-tab-body
        div.p2(md-colors="{background: 'blue-grey-500'}")
          span.md-title Snow Clearing
        md-content.md-padding
          md-list.flex-row
            md-subheader.md-no-sticky.h2 How many cars could park in your driveway?
            md-list-item.md-2-line
              md-radio-group.width-100(
              name='driveway'
              ng-model='vm.quote.driveway', 
              ng-change='vm.select(vm.quote.driveway)')
                md-radio-button.md-warn(ng-value='vm.actions.DRIVEWAY_REGULAR') Fewer than 5
                md-radio-button.md-warn(ng-value='vm.actions.DRIVEWAY_LARGE') More than 5
            md-divider
            md-subheader.md-no-sticky.h2 Would you like your front walkway cleared?
            md-list-item.md-2-line
              md-radio-group.width-100(
              name='walkway'
              ng-model='vm.quote.walkway', 
              ng-change='vm.select(vm.quote.walkway)')
                md-radio-button.md-warn(ng-value='vm.actions.WALKWAY_YES') Yes
                md-radio-button.md-warn(ng-value='vm.actions.WALKWAY_NO') No
            md-divider
            md-subheader.md-no-sticky.h2 Would you like your city sidewalk cleared?
            md-list-item.md-2-line
              md-radio-group.width-100(
              name='sidewalk'
              ng-model='vm.quote.sidewalk', 
              ng-change='vm.sidewalkSwitch(vm.quote.sidewalk)')
                md-radio-button.md-warn(ng-value='vm.actions.SIDEWALK_YES') Yes
                md-radio-button.md-warn(ng-value='vm.actions.SIDEWALK_NO') No
            //- md-subheader.md-no-sticky.h2 
            div(ng-if='vm.quote.sidewalk === vm.actions.SIDEWALK_YES')
              md-divider
              md-subheader.md-no-sticky.h2 Is your property on a corner lot?
                br
                small (Does the sidewalk go around two sides of your home?)
              md-list-item
                md-radio-group.width-100(
                name='corner'
                ng-model='vm.quote.corner', 
                ng-change='vm.select(vm.quote.corner)')
                  md-radio-button.md-warn(ng-value='vm.actions.SIDEWALK_SIZE_CORNER') Yes
                  md-radio-button.md-warn(ng-value='vm.actions.SIDEWALK_SIZE_REGULAR') No
        md-toolbar.md-accent
          .md-toolbar-tools.bg-lighten-4
            span(flex='auto')
            md-button.md-raised(ng-click='vm.step("next")') Next
    md-tab(md-active='bold')
      md-tab-label 
        .black 2. salting
      md-tab-body
        div.p2(md-colors="{background: 'blue-grey-500'}")
          span.md-title Salting
        md-content.md-padding
          md-list.flex-row
            md-subheader.md-no-sticky.h2 Would you like salt on your driveway?
            md-list-item(ng-click='vm.saltSwitch("_drivesalt")')
              p Include Driveway Salting
              md-switch.md-warn(ng-model='vm.quote._drivesalt')
            div(ng-show="vm.quote._drivesalt")
              md-divider
              md-subheader.md-no-sticky.h2 Choose regular or eco salt for your driveway.
              md-list-item.md-2-line
                md-radio-group.width-100(
                name='drivesalt'
                ng-model='vm.quote.drivesalt', 
                ng-change='vm.select(vm.quote.drivesalt)')
                  md-radio-button.md-warn(ng-value='vm.actions.DRIVEWAY_SALT_REGULAR') Regular
                  md-radio-button.md-warn(ng-value='vm.actions.DRIVEWAY_SALT_ECO') Eco
            md-divider
            md-subheader.md-no-sticky.h2 Would you like salt on your walkway?
            md-list-item(ng-click='vm.saltSwitch("_walksalt")')
              p Include Walkway Salting
              md-switch.md-warn(ng-model='vm.quote._walksalt')
            div(ng-show="vm.quote._walksalt")
              md-divider
              md-subheader.md-no-sticky.h2 Choose regular or eco salt for your walkway.
              md-list-item.md-2-line
                md-radio-group.width-100(
                name='walksalt'
                ng-model='vm.quote.walksalt', 
                ng-change='vm.select(vm.quote.walksalt)')
                  md-radio-button.md-warn(ng-value='vm.actions.WALKWAY_SALT_REGULAR') Regular
                  md-radio-button.md-warn(ng-value='vm.actions.WALKWAY_SALT_ECO') Eco
            md-divider
            md-subheader.md-no-sticky.h2 Would you like salt on your sidewalk?
            md-list-item(ng-click='vm.saltSwitch("_sidesalt")')
              p Include Sidewalk Salting
              md-switch.md-warn(ng-model='vm.quote._sidesalt')
            div(ng-show="vm.quote._sidesalt")
              md-divider
              md-subheader.md-no-sticky.h2 Choose regular or eco salt for your sidewalk.
              md-list-item.md-2-line
                md-radio-group.width-100(
                name='sidesalt'
                ng-model='vm.quote.sidesalt', 
                ng-change='vm.select(vm.quote.sidesalt)')
                  md-radio-button.md-warn(ng-value='vm.actions.SIDEWALK_SALT_REGULAR') Regular
                  md-radio-button.md-warn(ng-value='vm.actions.SIDEWALK_SALT_ECO') Eco
        md-toolbar.md-accent
          .md-toolbar-tools.bg-lighten-4
            md-button.md-raised(ng-click='vm.step("prev")') Prev
            span(flex='auto')
            md-button.md-raised(ng-click='vm.step("next")') Next
    md-tab(md-active='bold')
      md-tab-label 
        .black 3. details
      md-tab-body
        div.p2(md-colors="{background: 'blue-grey-500'}")
          span.md-title Service Details
        md-content.md-padding
          md-list
            //- md-subheader.md-no-sticky.h2 Are you a senior citizen (or purchasing for a senior)? 
            md-list-item.flex(ng-click='vm.confirm()')
              p.flex-auto Are you a senior citizen (or purchasing for a senior)? 
              p 65+
              md-switch.md-warn(ng-model='vm.quote._senior' ng-change='vm.help()')
            md-divider
            p.px2.pt2.flex-auto What type of coverage are you looking for?
            md-list-item
              md-input-container
                md-select(
                name='coverage',
                ng-model='vm.quote.coverage', 
                ng-change='vm.select(vm.quote.coverage)', 
                aria-label='Coverage Period')
                  md-option(ng-value='vm.actions.SEASON_FULL') Full Season
                  md-option(ng-value='vm.actions.SEASON_HALF') Half Season
                  md-option(ng-value='vm.actions.SEASON_HOLIDAY') Holiday Coverage
                  md-option(ng-value='vm.actions.SEASON_SINGLE') Single Service
            div(ng-if='vm.quote.coverage === vm.actions.SEASON_HALF')
              md-subheader.md-no-sticky Select which half of the season.
              md-list-item.md-2-line
                md-input-container.width-100
                  md-radio-group.width-100.flex.justify-around(
                  name='period' 
                  ng-model='vm.quote.period', 
                  ng-change='vm.select(vm.quote.period)', 
                  aria-label='Half season selection')
                    md-radio-button.md-warn(ng-value='vm.actions.SEASON_HALF_FIRST') November 15 - February 1
                    md-radio-button.md-warn(ng-value='vm.actions.SEASON_HALF_SECOND') February 1 - April 15
            div(ng-if='vm.quote.coverage === vm.actions.SEASON_HOLIDAY')
              md-subheader.md-no-sticky Select your desired start and end dates.
              md-list-item
                md-input-container.sm-col.sm-col-6
                  md-datepicker(
                  name='holidayStartDate',
                  ng-model='vm.quote.holidayStartDate', 
                  ng-change='vm.select(vm.quote.holidayStartDate)'
                  aria-label='Start Date'
                  md-placeholder='Start date', 
                  md-min-date='vm.dates.minDate', 
                  md-max-date='vm.dates.maxDate')
                md-input-container.sm-col.sm-col-6
                  md-datepicker(
                  name='holidayEndDate',
                  ng-model='vm.quote.holidayEndDate', 
                  ng-change='vm.select(vm.quote.holidayEndDate)'
                  aria-label='End Date'
                  md-placeholder='End date', 
                  md-min-date='vm.dates.minDate', 
                  md-max-date='vm.dates.maxDate')
            div(ng-if='vm.quote.coverage === vm.actions.SEASON_SINGLE')
              md-subheader.md-no-sticky Select your desired service date.
              md-list-item
                md-input-container
                  md-datepicker(
                  name='singleServiceDate',
                  ng-model='vm.quote.singleServiceDate', 
                  ng-change='vm.select(vm.quote.singleServiceDate)'
                  aria-label='Service Date'
                  md-placeholder='Service date', 
                  md-min-date='vm.dates.minDate', 
                  md-max-date='vm.dates.maxDate')
            //- md-divider
            //- md-list-item
            //-   md-input-container.md-block(flex-gt-sm)
            //-     label Specify any particular requests.
            //-     textarea(name='message'
            //-     ng-model='vm.quote.notes', 
            //-     rows='1',
            //-     md-select-on-focus='')
        md-toolbar.md-accent
          .md-toolbar-tools.bg-lighten-4
            md-button.md-raised(ng-click='vm.step("prev")') Prev
            span(flex='auto')
            md-button.md-raised(ng-click='vm.step("next")') Next
    md-tab(md-active='bold')
      md-tab-label 
        .black 4. info
      md-tab-body
        div.p2(md-colors="{background: 'blue-grey-500'}")
          span.md-title Your Info
        md-content.md-padding
          p Please enter your name and email to receive the quote.
          div(layout-gt-sm='row')
            md-input-container.md-block(flex-gt-sm)
              label Your Name
              input.md-warn(required='', 
              ng-disabled='vm.quote.clientNo',
              name='clientName', 
              ng-model='vm.quote.clientName')
              div(ng-messages='quoteForm.clientName.$error')
                div(ng-message='required') We need your name.
            span(flex='5')
            md-input-container.md-block(flex-gt-sm)
              label Your Email
              input.md-warn(required='', 
              ng-disabled='vm.quote.clientNo',
              type='email', 
              name='clientEmail', 
              ng-model='vm.quote.clientEmail', 
              minlength='10', 
              maxlength='100', 
              ng-pattern='/^.+@.+\..+$/')
              div(ng-messages='quoteForm.clientEmail.$error', 
              role='alert')
                div(ng-message-exp="['minlength', 'maxlength', 'pattern']")
                  | Your email must look like an e-mail address.
                div(ng-message-exp="['required']")
                  | We need your email address.
          div(layout='column')
            md-checkbox.md-warn(
            name='clientFollowup',
            ng-disabled='vm.quote.clientNo',
            ng-model='vm.quote.clientFollowup', 
            aria-label='I don\'t mind being contacted for a follow-up')
              | I don't mind being contacted for a follow-up
            md-checkbox.md-warn(
            name='clientUpdates',
            ng-disabled='vm.quote.clientNo',
            ng-model='vm.quote.clientUpdates', 
            aria-label='I would like to receive occasional updates from ClearMySnow')
              | I would like to receive occasional updates from ClearMySnow
            md-checkbox.md-warn(
            name='clientNo'
            ng-change='vm.privateQuote()'
            ng-style='{ opacity: vm.quote.clientNo ? 1 : 0.5 }'
            ng-model='vm.quote.clientNo', 
            aria-label='I\'d rather not give my email address')
              | I'd rather not give my email address
          md-divider
          p.muted.md-caption 
            | We take your privacy seriously. We will never sell or reveal your information to a third party. 
            br
            | You can read more about our #[a.md-primary(ui-sref='legal.privacy') Privacy Policy].
        md-toolbar.md-accent
          .md-toolbar-tools.bg-lighten-4
            md-button.md-raised(ng-click='vm.step("prev")') Prev
            span(flex='auto')
            md-button.md-raised(
            ng-click='vm.step("next")', 
            ng-disabled='vm.quoteForm.$invalid && !vm.quote.clientNo') Next
    md-tab(
    md-active='bold', 
    ng-disabled='vm.quoteForm.$invalid && !vm.quote.clientNo')
      md-tab-label
        .black 5. quote
      md-tab-body
        div.p2(md-colors="{background: 'blue-grey-500'}")
          span.md-title Breakdown
        md-content.md-padding
          md-list.flex.flex-column
            md-subheader.md-no-sticky Coverage and Duration
            md-list-item.md-2-line
              //- md-icon.md-avatar-icon phone
              .md-list-item-text
                h3 {{ vm.quote.coverage | englishize }}
                p(ng-if='vm.quote.coverage === vm.actions.SEASON_FULL') 
                  | {{ vm.dates.minDate | date: 'MMMM dd, yyyy' }} - 
                  | {{ vm.dates.maxDate | date: 'MMMM dd, yyyy' }}
                p(ng-if='vm.quote.coverage === vm.actions.SEASON_HALF') 
                  | {{ vm.quote.period | englishize }}
                p(ng-if='vm.quote.coverage === vm.actions.SEASON_HOLIDAY') 
                  | {{ vm.quote.holidayStartDate | date: 'MMMM dd, yyyy' }} - 
                  | {{ vm.quote.holidayEndDate | date: 'MMMM dd, yyyy' }}
                p(ng-if='vm.quote.coverage === vm.actions.SEASON_SINGLE') 
                  | {{ vm.quote.singleServiceDate | date: 'MMMM dd, yyyy' }}
            md-divider
            md-subheader.md-no-sticky Total with Tax
            md-list-item.md-2-line
              .md-list-item-text
                h3 {{ vm.quote.total * 1.13 | currency }}
                p (Includes any early bird and/or senior discounts)
        md-toolbar.md-accent
          .md-toolbar-tools.bg-lighten-4
            md-button.md-raised(ng-click='vm.step("prev")') Prev
            span(flex='auto')
            md-button.md-raised.md-primary.px3(ui-sref='register', style='color: white') 
              | Register
              md-icon.ml1 keyboard_arrow_right
